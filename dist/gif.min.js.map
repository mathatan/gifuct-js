{"version":3,"sources":["dist/gif.js"],"names":["f","exports","module","define","amd","window","global","self","this","gifuct","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","ByteStream","data","pos","prototype","readByte","peekByte","readBytes","bytes","Array","peekBytes","readString","len","str","String","fromCharCode","readBitArray","arr","bite","push","readUnsigned","littleEndian","2","DataParser","stream","output","bitsToNum","bitArray","reduce","parse","schema","parseParts","obj","part","parsePart","value","name","label","requires","loop","items","item","parts","parser","skip","bits","parseBits","details","out","key","slice","index","./bytestream","3","Parsers","readArray","size","countFunc","parent","count","4","GIF","arrayBuffer","byteData","Uint8Array","raw","gifSchema","hasImages","frames","image","decompressFrame","buildPatch","frame","totalPixels","descriptor","width","height","pixels","minCodeSize","pixelCount","available","clear","code_mask","code_size","end_of_information","in_code","old_code","datum","data_size","first","top","bi","pi","npix","dstPixels","prefix","suffix","pixelStack","MAX_STACK_SIZE","lzw","blocks","lct","interlaced","newPixels","rows","cpRow","toRow","fromRow","fromPixels","splice","apply","concat","offsets","steps","pass","deinterlace","dims","left","exists","colorTable","gct","gce","delay","disposalType","extras","disposal","transparentColorGiven","transparentIndex","transparentColorIndex","patch","patchData","Uint8ClampedArray","colorIndex","color","generatePatch","decompressFrames","../node_modules/js-binary-schema-parser/src/dataparser","./schema","5","subBlocks","codes","future","userInput","sort","Math","pow","text","blockSize","nextCode","schemaGIF","resolution","lsd","../node_modules/js-binary-schema-parser/src/parsers"],"mappings":"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","file":"dist/gif.min.js.map"}